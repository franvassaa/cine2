<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <title>Rio Cinemas</title>
</head>
<body>
    <div class="cabecera">
        <div class="anchocabecera">
            <div class="imagen-principal">
                <img class="logo" src="/img/logo.png">
            </div>
            <div class="buscador">
                <select id="cinemaSelect">
                    <option>Selecciona tu cine</option>
                    <option>Caballito (Av. La Plata)</option>
                    <option>Abasto (Av Corrientes)</option>
                    <option>Alto Avellaneda (Av Gral. Guemes)</option>
                </select>
                <input type="button" value="Ver cartelera" onclick="getCinemaInfo()">
            </div>
            <div class="contacto">
                <input type="button" value="Contacto">
            </div>
        </div>
    </div>

    <!-- Script para manejar la l칩gica -->
    <script>
        // Funci칩n para enviar la solicitud al backend
        function getCinemaInfo() {
            // Obtener el cine seleccionado
            const selectedCinema = document.getElementById('cinemaSelect').value;

            // Si no se seleccion칩 un cine v치lido, mostrar un mensaje
            if (selectedCinema === "Selecciona tu cine") {
                alert("Por favor, selecciona un cine.");
                return;
            }

            // Realizar una solicitud POST a Flask
            fetch('/select_cinema', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    cinema: selectedCinema
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.message) {
                    alert(data.message);  // Mostrar el mensaje recibido
                    if (data.data) {
                        console.log(data.data);  // Mostrar los detalles del cine en la consola (puedes hacer lo que quieras con estos datos)
                    }
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>

</body>
</html>
